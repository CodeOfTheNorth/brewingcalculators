
<md-card>
  <md-slide-toggle
    color="primary"
    (click)="changeUnit()">
    {{currentUnit}}
  </md-slide-toggle>
  <md-list *ngIf="!gravity">
    <md-list-item>
      <p>Please enter an original gravity value in {{currentUnit}}.</p>
    </md-list-item>
  </md-list>
  <md-list *ngIf="gravity">
    <md-list-item *ngFor="let sg of gravity; let i = index">
      <button md-mini-fab
              color=primary
              (click)="editEntry(i)">
        <md-icon>edit</md-icon>
      </button> <!-- TODO: Gabe - Change to SVG -->
      <button md-mini-fab
              color=warn
              (click)="removeEntry(i)">
        <md-icon>clear</md-icon>
      </button> <!-- TODO: Gabe - Change to SVG -->
      <p *ngIf="sg != 0"><span *ngIf="i == 0">OG: </span><span *ngIf="i==gravity.length-1&& i != 0">FG: </span>{{sg.toFixed(3)}}</p>
      <md-input-container mdTooltip="Enter a gravity in {{currentUnit}}" *ngIf="editing==i">
        <input type="tel" pattern="[0-9.]*"
                mdInput placeholder="{{currentUnit}}"
                [(ngModel)]="currentEntry"
                (keyup)="validateEntry()"
                (keyup.enter)="saveEntry(i)">
      </md-input-container>
      <button md-mini-fab *ngIf="validEntry&&editing==i"
              color=primary
              (click)="saveEntry(i)">
        <md-icon>add</md-icon>
      </button> <!-- TODO: Gabe - Change to SVG -->
      <p *ngIf="editing==i && !validEntry && currentEntry"> | Please enter a value between .980 and 1.200</p>
    </md-list-item>
    <md-list-item>
      <p *ngIf="gravity.length==1">Please enter a Final or Current gravity in {{currentUnit}}.</p>
    </md-list-item>
  </md-list>
  <md-input-container mdTooltip="Enter a gravity in {{currentUnit}}" *ngIf="editing == -1">
    <input type="tel" pattern="[0-9.]*"
            mdInput placeholder="{{currentUnit}}"
            [(ngModel)]="currentEntry"
            (keyup)="validateEntry()"
            (keyup.enter)="addEntry()">
  </md-input-container>
  <button md-mini-fab *ngIf="validEntry&&editing == -1"
          color=primary
          (click)="addEntry()">
    <md-icon>add</md-icon>
  </button> <!-- TODO: Gabe - Change to SVG -->
  <p *ngIf="editing == -1 && !validEntry && currentEntry">Please enter a value between .980 and 1.200</p>
</md-card>
<div *ngIf="gravity">
  <md-card *ngIf="gravity.length >=2">
    <h3>ABV</h3>
    <p>{{ABV.toFixed(2)}}% ABV</p>
    <h3>Apparent Attenuation</h3>
    <p>{{apparentAttenuation.toFixed(2)}}% Attenuation</p>
  </md-card>
</div>
